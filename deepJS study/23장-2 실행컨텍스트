함수 코드 평가의 순서
함수 실행 컨텍스트 생성 / 함수 렉시컬 환경 생성 / 함수 환경 레코드 생성 / this바인딩 / 외부 렉시컬 환경에 대한 참조결정

함수 코드 평가의 순서는 전역 코드 평가순서와 크게 다르지않다. 다만 차이점은 렉시컬 환경 생성에서 환경레코드가 하나이다. 그 이유는 함수 환경 레코드에서는 지역변수를 나눌 필요성이 없기 때문이다.

console은 전역객체 프로퍼티이고 log는 console객체의 메서드이다.

실행 컨텍스트 스택에서 실행되고 난 실행 컨텍스트는 스택에서 지워지는데 렉시컬 환경은 독립적인 객체임으로 실행 컨텍스트가 삭제되더라도 참조하는 곳이 있다면 삭제되지 않는다. 참조하지 않는 경우엔 비로소 가비지 컬렉터에 의해 소멸된다.

함수레벨 스코프: var로 선언한 변수만이 함수 내 코드블록에서 지역 스코프를 인정받는다.
블록 레벨 스코프: 모든 코드 블록을 지역 스코프로 인정하는 것. let과 const가 있음.

if문과 while문이 코드 블록이 실행되면 선언적 환경 레코드를 갖는 렉시컬 환경을 새롭게 만들어 기존 렉시컬 환경과 교체한다.
이것의 상위 스코프는 교체되기 이전 렉시컬 환경을 가르킨다.